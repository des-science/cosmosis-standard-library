[runtime]
sampler = polychord

[DEFAULT]
2PT_DATA_SETS = wtheta

[pipeline]
modules = consistency bbn_consistency camb halofit extrapolate fits_nz lens_photoz_width lens_photoz_bias fast_pt pk_to_cl_gg pk_to_cl add_magnification 2pt_gal add_A 2pt_like
likelihoods = 2pt
extra_output = cosmological_parameters/sigma_8 data_vector/2pt_chi2
fast_slow=F
priors = highz/priors_all.ini
values = highz/values.ini

[multinest]
live_points=250
efficiency=0.3
tolerance=0.1

[polychord]
live_points = 250
num_repeats = 30
tolerance = 0.1
resume=T

[apriori]
nsample = 100000

[add_A]
file =  ${COSMOSIS_SRC_DIR}/cosmosis-des-library/lss/the_a_to_wt.py

[pk_to_cl]
file = cosmosis-standard-library/structure/projection/project_2d.py
ell_min_logspaced = 0.1
ell_max_logspaced = 5.0e5
n_ell_logspaced = 100 
shear-shear = 
shear-intrinsic = 
intrinsic-intrinsic = 
intrinsicb-intrinsicb=
lingal-shear = 
lingal-intrinsic = 
lingal-magnification = lens-lens
magnification-shear = 
magnification-magnification = lens-lens
magnification-intrinsic =  
verbose = F
get_kernel_peaks = F
sig_over_dchi = 20. 

[pk_to_cl_gg]
auto_only=

[2pt_like]
file = cosmosis-standard-library/likelihood/2pt/2pt_like_allmarg.py
do_pm_marg = False
do_pm_sigcritinv = False
sigma_a=10000.0
no_det_fac = False
include_norm = True
data_file = %(2PT_FILE)s
data_sets = %(2PT_DATA_SETS)s
make_covariance=F
covmat_name=COVMAT
%include ${SCALEFILE}

[fast_pt]
file = ${COSMOSIS_SRC_DIR}/cosmosis-des-library/tcp/fast_pt/fast_pt_interface.py
do_ia = F
k_res_fac = 0.5
verbose = F

[add_magnification]
do_galaxy_shear = False
do_galaxy_galaxy = True

[fits_nz]
file = cosmosis-standard-library/number_density/load_nz_fits/load_nz_fits.py
nz_file = %(2PT_FILE)s
data_sets = lens

[lens_photoz_width]
file = cosmosis-des-library/photoz/photoz_width_new.py
mode = stretch
sample = nz_lens
bias_section = lens_photoz_errors
interpolation = linear

[lens_photoz_bias]
file = cosmosis-standard-library/number_density/photoz_bias/photoz_bias.py
mode = core
sample = nz_lens
bias_section = lens_photoz_errors
interpolation = linear


